#!/usr/bin/env bash
set -euo pipefail

# Check if gateway is already running
if pgrep -f "openclaw.*gateway" > /dev/null; then
    echo "âš ï¸  OpenClaw Gateway is already running"
else
    echo ""
    echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo "â•‘                                                              â•‘"
    echo "â•‘                ğŸ¦ OpenClaw Development                       â•‘"
    echo "â•‘                                                              â•‘"
    echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo ""
    echo "ğŸ“‹ Quick Commands:"
    echo "   pnpm openclaw gateway --verbose     # Start gateway"
    echo "   pnpm openclaw gateway --help        # Gateway options"
    echo "   pnpm test                           # Run tests"
    echo "   pnpm build                          # Build project"
    echo "   pnpm lint                           # Run linter"
    echo "   pnpm ui:dev                         # Start UI dev server"
    echo ""
    echo "ğŸ”Œ Port Forwarding:"
    echo "   18789 - OpenClaw Gateway (WebSocket)"
    echo "   18790 - Canvas Host"
    echo "   18791 - Node Host"
    echo "   18792 - Browser Relay"
    echo "   5173  - UI Dev Server"
    echo ""
    echo "âš™ï¸  Configuration:"
    echo "   Location: ${OPENCLAW_STATE_DIR}/openclaw.json"
    echo "   Workspace: ${OPENCLAW_WORKSPACE_DIR}"
    echo ""
    echo "ğŸš€ Getting Started:"
    echo "   1. Set API keys in GitHub Codespaces Secrets:"
    echo "      https://github.com/settings/codespaces"
    echo "   2. Run: pnpm openclaw gateway --verbose"
    echo "   3. Access via the forwarded HTTPS URL"
    echo "   4. Connect your Android app using the forwarded URL"
    echo ""
    echo "ï¿½ï¿½ Documentation: https://docs.openclaw.ai"
    echo ""
fi
